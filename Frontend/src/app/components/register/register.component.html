<div class="flex justify-center mt-20">
    <div  class=" bg-white rounded-md shadow-md w-full max-w-96">
      <div class="text-2xl text-center mt-2">
        Registro
      </div>
        <form [formGroup]="form" (ngSubmit)="onSubmit()"  class="m-4">
            <div class="m-4">
                <label class="block" for="username">Nombre</label>
                <input class="p-2 w-full text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-400 focus:border-blue-500"
                 type="text" id="username" formControlName="username" 
                 [class.border-red-500]="(form.controls['username'].touched || form.controls['username'].dirty) && form.controls['username'].invalid">
                 <div class="text-red-500 text-sm" *ngIf="(form.controls['username'].touched || form.controls['username'].dirty)">
           <!--        <div class="invalid-feedback" *ngIf="form.controls['name'].hasError('required')">-->
           <!--          El nombre es requerido.-->
           <!--        </div>-->
                   <div *ngIf="form.controls['username'].hasError('maxlength')">
                     El nombre no puede superar los 20 caracteres.
                   </div>
                   <div *ngIf="form.controls['username'].hasError('pattern')">
                     No puede incluir caracteres especiales (excepto por _).
                   </div>
                   <div *ngIf="tips.errors?.includes('username')">
                        Nombre usado
                   </div>
                </div>
            
            </div>
            <div class="m-4">
                <label class="block" for="email">Email</label>
                <input class="p-2 w-full text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-400 focus:border-blue-500"
                 type="text" id="email" formControlName="email"
                 [class.border-red-500]="(form.controls['email'].touched || form.controls['email'].dirty) && form.controls['email'].invalid">
                 <div class="text-red-500 text-sm" *ngIf="(form.controls['email'].touched || form.controls['email'].dirty)">
           <!--        <div class="invalid-feedback" *ngIf="form.controls['email'].hasError('required')">-->
           <!--          El email es requerido.-->
           <!--        </div>-->
                   <div *ngIf="form.controls['email'].hasError('email')">
                     El email es invalido.
                   </div>
                   <div *ngIf="tips.errors?.includes('email')">
                     Email usado
                   </div>
                 </div>
            </div>
            <div class="m-4">
                <label class="block" for="password">Contraseña</label>
                <input class="p-2 w-full text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-400 focus:border-blue-500"
                type="password" id="password" formControlName="password"
                [class.border-red-500]="(form.controls['password'].touched || form.controls['password'].dirty) && form.controls['password'].invalid">
                <div class="text-red-500 text-sm" *ngIf="(form.controls['password'].touched || form.controls['password'].dirty)">
                  <div *ngIf="form.controls['password'].valid" [ngSwitch]="tips.passwordPoints" class="italic">
                    <span *ngSwitchDefault  class="text-green-500">· Contraseña Fuerte</span>
                    <span *ngSwitchCase="2" class="text-yellow-500">· Contraseña Normal</span>
                    <span *ngSwitchCase="1" >· Contraseña Debil (Mezcla mayúsculas, minúsculas, números y caracteres especiales)</span>
                    <span *ngSwitchCase="0" class="text-black">· Verificando...</span>
                  </div>
                  <div *ngIf="form.controls['password'].hasError('maxlength')">
                    La contraseña no puede superar los 20 caracteres.
                  </div>
                  <div *ngIf="form.controls['password'].hasError('pattern') &&
                               !form.controls['password'].hasError('minlength')">
                    La contraseña no puede tener espacios.
                  </div>
                  <div *ngIf="form.controls['password'].hasError('minlength')">
                    La contraseña no puede tener menos los 8 caracteres.
                  </div>
                </div>
            </div>
            <div class="m-4">
                <label class="block" for="password2">Confirmar contraseña</label>
                <input class="p-2 w-full text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-400 focus:border-blue-500"
                type="password" id="password2" formControlName="password2"
                [class.border-red-500]="(form.controls['password2'].touched || form.controls['password2'].dirty) && form.controls['password2'].invalid">
                <div class="text-red-500 text-sm" *ngIf="(form.controls['password2'].touched || form.controls['password2'].dirty)">
                  <div *ngIf="form.hasError('notSame')">
                    La contraseña debe coincidir.
                  </div>
                </div>
            </div>
            <!-- <div class="m-4 space-x-1">
                <input class="focus:ring-blue-400 focus:border-blue-500 text-blue-400 rounded-sm"
                type="checkbox" id="terms" formControlName="terms">
                <label for="terms">
                    He leido los 
                    <a class="text-blue-500 hover:underline hover:decoration-rose-950 cursor-pointer" routerLink="/terms">Terminos y condiciones</a>. 
                </label>
            </div> -->
            <div class="text-center m-4 ">
                <button class="bg-blue-500 rounded-md text-white p-2 transition-all hover:brightness-110" type="submit">Registrarse</button>
            </div>
        </form>
    </div>
</div>